<template>
  <!-- <svg width="383" height="560" viewBox="0 0 383 560" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M203.236 1875.2H289.082V142.454H203.236V1875.2Z" fill="url(#paint0_linear_44_2120)"/>
    <path d="M175 217L59.9998 161.231V127.636L175 86V217Z" fill="white"/>
    <path d="M36.2957 251.527H54.3656V53.3025H36.2957V251.527Z" fill="#B8CEE7"/>
    <path d="M2.00049 56.2037L45.565 100L83.0005 62.3654V-2.39552e-06H2.00049V56.2037Z" fill="white"/>
    <path d="M0.898289 241.235L45.0007 197L82.8983 235.011V298H0.898289V241.235Z" fill="white"/>
    <path d="M46.0362 166.669C58.7215 166.669 69.0013 156.389 69.0013 143.704C69.0013 131.019 58.7215 120.732 46.0362 120.732C33.3508 120.732 23.071 131.019 23.071 143.704C23.071 156.389 33.3508 166.669 46.0362 166.669Z" fill="white"/>
    <path d="M175 86H383V217H175V86Z" fill="#B8CEE7"/>
    <rect x="212" y="94" width="134" height="5" fill="white"/>
    <rect x="212" y="88" width="134" height="3" fill="white"/>
    <rect x="212" y="102" width="134" height="8" fill="white"/>
    <rect x="212" y="113" width="134" height="10" fill="white"/>
    <rect x="212" y="178" width="134" height="8" fill="white"/>
    <rect x="212" y="189" width="134" height="18" fill="white"/>
    <rect x="212" y="210" width="134" height="5" fill="white"/>
    <path d="M323.074 147.744V159H321.415V151.818C321.415 151.524 321.422 151.216 321.436 150.894C321.464 150.572 321.492 150.257 321.52 149.949H321.457L317.782 159H316.228L312.658 149.949H312.595C312.623 150.257 312.637 150.572 312.637 150.894C312.651 151.216 312.658 151.545 312.658 151.881V159H310.999V147.744H313.456L317.005 156.795L320.617 147.744H323.074ZM332.484 144.006L326.898 159H325.092L330.678 144.006H332.484ZM338.996 159.21C338.002 159.21 337.113 159.007 336.329 158.601C335.559 158.195 334.95 157.565 334.502 156.711C334.068 155.857 333.851 154.765 333.851 153.435C333.851 152.049 334.082 150.922 334.544 150.054C335.006 149.186 335.629 148.549 336.413 148.143C337.211 147.737 338.114 147.534 339.122 147.534C339.696 147.534 340.249 147.597 340.781 147.723C341.313 147.835 341.747 147.975 342.083 148.143L341.516 149.676C341.18 149.55 340.788 149.431 340.34 149.319C339.892 149.207 339.472 149.151 339.08 149.151C338.324 149.151 337.701 149.312 337.211 149.634C336.721 149.956 336.357 150.432 336.119 151.062C335.881 151.692 335.762 152.476 335.762 153.414C335.762 154.31 335.881 155.073 336.119 155.703C336.357 156.333 336.714 156.809 337.19 157.131C337.666 157.453 338.261 157.614 338.975 157.614C339.591 157.614 340.13 157.551 340.592 157.425C341.068 157.299 341.502 157.145 341.894 156.963V158.601C341.516 158.797 341.096 158.944 340.634 159.042C340.186 159.154 339.64 159.21 338.996 159.21Z" fill="#274868"/>
    <path d="M9.24316 3.15625V17.9297L7.85059 19.3223L6.45801 17.9297V3.15625L7.85059 1.76367L9.24316 3.15625ZM9.24316 21.3203V36.0938L7.85059 37.4863L6.45801 36.0938V21.3203L7.85059 19.9277L9.24316 21.3203ZM6.00391 1.91504V4.09473L2.25 7.75781H0.191406V5.36621L3.94531 1.91504H6.00391ZM13.5117 36.3359L14.9648 37.7891L13.5117 39.2422H9.45508L8.00195 37.7891L9.45508 36.3359H13.5117ZM6.09473 36.3359L7.54785 37.7891L6.09473 39.2422H2.03809L0.584961 37.7891L2.03809 36.3359H6.09473ZM23.8047 35.2461V43.9648L22.4121 45.3574L21.0195 43.9648V35.2461L22.4121 33.8535L23.8047 35.2461ZM47.5996 0.0078125L49.0527 1.46094L47.5996 2.91406H32.9473L31.4941 1.46094L32.9473 0.0078125H47.5996ZM32.6445 3.15625V17.9297L31.252 19.3223L29.8594 17.9297V3.15625L31.252 1.76367L32.6445 3.15625ZM50.8086 21.3203V36.0938L49.416 37.4863L48.0234 36.0938V21.3203L49.416 19.9277L50.8086 21.3203ZM47.6904 36.3359L49.1436 37.7891L47.6904 39.2422H33.0381L31.585 37.7891L33.0381 36.3359H47.6904ZM47.6904 18.0508L49.1436 19.5039L47.6904 20.957H33.0381L31.585 19.5039L33.0381 18.0508H47.6904ZM32.6748 33.4297V36.0938L31.2822 37.4863L29.8896 36.0938V33.4297L31.2822 32.0371L32.6748 33.4297Z" fill="#274868"/>
    <path d="M233.038 132.311L234.491 133.764L233.038 135.217H218.386L216.933 133.764L218.386 132.311H233.038ZM236.247 135.459V150.232L234.854 151.625L233.462 150.232V135.459L234.854 134.066L236.247 135.459ZM218.083 153.623V168.396L216.69 169.789L215.298 168.396V153.623L216.69 152.23L218.083 153.623ZM218.083 135.459V150.232L216.69 151.625L215.298 150.232V135.459L216.69 134.066L218.083 135.459ZM236.247 153.623V168.396L234.854 169.789L233.462 168.396V153.623L234.854 152.23L236.247 153.623ZM233.129 168.639L234.582 170.092L233.129 171.545H218.477L217.023 170.092L218.477 168.639H233.129ZM225.561 152.836L226.287 154.955L221.474 166.943L219.627 167.973L218.9 165.672L223.744 153.865L225.561 152.836ZM231.918 136.186L232.645 138.305L227.831 150.293L225.984 151.322L225.258 149.021L230.102 137.215L231.918 136.186ZM263.251 135.156V149.93L261.858 151.322L260.466 149.93V135.156L261.858 133.764L263.251 135.156ZM245.087 135.156V149.93L243.694 151.322L242.302 149.93V135.156L243.694 133.764L245.087 135.156ZM263.251 153.32V168.094L261.858 169.486L260.466 168.094V153.32L261.858 151.928L263.251 153.32ZM260.133 150.172L261.586 151.625L260.133 153.078H245.48L244.027 151.625L245.48 150.172H260.133ZM272.091 166.52V169.426H269.306V166.52H272.091ZM294.463 132.008L295.916 133.461L294.463 134.914H279.811L278.357 133.461L279.811 132.008H294.463ZM297.702 135.156V149.93L296.31 151.322L294.917 149.93V135.156L296.31 133.764L297.702 135.156ZM297.702 153.32V168.094L296.31 169.486L294.917 168.094V153.32L296.31 151.928L297.702 153.32ZM294.554 168.336L296.007 169.789L294.554 171.242H279.901L278.448 169.789L279.901 168.336H294.554ZM294.251 150.293L295.704 151.746L294.251 153.199H279.599L278.146 151.746L279.599 150.293H294.251Z" fill="#274868"/>
    <rect x="210" y="130" :class="$style.answer" @click="successAnswer" width="133" height="43" fill="#D9D9D9" fill-opacity="0.01"/>
    <defs>
    <linearGradient id="paint0_linear_44_2120" x1="246.159" y1="1875.2" x2="246.159" y2="142.454" gradientUnits="userSpaceOnUse">
    <stop stop-color="white"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
  </svg> -->
  <svg @click="tryClick" width="383" height="560" viewBox="0 0 383 560" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M203.236 1875.2H289.082V142.454H203.236V1875.2Z" fill="url(#paint0_linear_1_214)"/>
    <path d="M175 217L59.9998 161.231V127.636L175 86V217Z" fill="white"/>
    <path d="M36.2957 251.527H54.3656V53.3024H36.2957V251.527Z" fill="#B8CEE7"/>
    <path d="M2.00049 56.2036L45.565 99.9999L83.0005 62.3653V-6.34307e-05H2.00049V56.2036Z" fill="white"/>
    <path d="M0.898289 241.234L45.0007 197L82.8983 235.011V298H0.898289V241.234Z" fill="white"/>
    <path d="M46.0362 166.669C58.7215 166.669 69.0013 156.389 69.0013 143.704C69.0013 131.019 58.7215 120.732 46.0362 120.732C33.3508 120.732 23.071 131.019 23.071 143.704C23.071 156.389 33.3508 166.669 46.0362 166.669Z" fill="white"/>
    <path d="M175 86H383V217H175V86Z" fill="#B8CEE7"/>
    <rect x="212" y="93.9999" width="134" height="5" fill="white"/>
    <rect x="212" y="87.9999" width="134" height="3" fill="white"/>
    <rect x="212" y="102" width="134" height="8" fill="white"/>
    <rect x="212" y="113" width="134" height="10" fill="white"/>
    <rect x="212" y="178" width="134" height="8" fill="white"/>
    <rect x="212" y="189" width="134" height="18" fill="white"/>
    <rect x="212" y="210" width="134" height="5" fill="white"/>
    <path d="M323.074 147.744V159H321.415V151.818C321.415 151.524 321.422 151.216 321.436 150.894C321.464 150.572 321.492 150.257 321.52 149.949H321.457L317.782 159H316.228L312.658 149.949H312.595C312.623 150.257 312.637 150.572 312.637 150.894C312.651 151.216 312.658 151.545 312.658 151.881V159H310.999V147.744H313.456L317.005 156.795L320.617 147.744H323.074ZM332.484 144.006L326.898 159H325.092L330.678 144.006H332.484ZM338.996 159.21C338.002 159.21 337.113 159.007 336.329 158.601C335.559 158.195 334.95 157.565 334.502 156.711C334.068 155.857 333.851 154.765 333.851 153.435C333.851 152.049 334.082 150.922 334.544 150.054C335.006 149.186 335.629 148.549 336.413 148.143C337.211 147.737 338.114 147.534 339.122 147.534C339.696 147.534 340.249 147.597 340.781 147.723C341.313 147.835 341.747 147.975 342.083 148.143L341.516 149.676C341.18 149.55 340.788 149.431 340.34 149.319C339.892 149.207 339.472 149.151 339.08 149.151C338.324 149.151 337.701 149.312 337.211 149.634C336.721 149.956 336.357 150.432 336.119 151.062C335.881 151.692 335.762 152.476 335.762 153.414C335.762 154.31 335.881 155.073 336.119 155.703C336.357 156.333 336.714 156.809 337.19 157.131C337.666 157.453 338.261 157.614 338.975 157.614C339.591 157.614 340.13 157.551 340.592 157.425C341.068 157.299 341.502 157.145 341.894 156.963V158.601C341.516 158.797 341.096 158.944 340.634 159.042C340.186 159.154 339.64 159.21 338.996 159.21Z" fill="#274868"/>
    <path d="M240.243 135.156V149.93L238.851 151.322L237.458 149.93V135.156L238.851 133.764L240.243 135.156ZM240.243 153.32V168.094L238.851 169.486L237.458 168.094V153.32L238.851 151.928L240.243 153.32ZM237.004 133.915V136.095L233.25 139.758H231.191V137.366L234.945 133.915H237.004ZM244.512 168.336L245.965 169.789L244.512 171.242H240.455L239.002 169.789L240.455 168.336H244.512ZM237.095 168.336L238.548 169.789L237.095 171.242H233.038L231.585 169.789L233.038 168.336H237.095ZM254.805 167.246V175.965L253.412 177.357L252.02 175.965V167.246L253.412 165.854L254.805 167.246ZM278.6 132.008L280.053 133.461L278.6 134.914H263.947L262.494 133.461L263.947 132.008H278.6ZM263.645 135.156V149.93L262.252 151.322L260.859 149.93V135.156L262.252 133.764L263.645 135.156ZM281.809 153.32V168.094L280.416 169.486L279.023 168.094V153.32L280.416 151.928L281.809 153.32ZM278.69 168.336L280.144 169.789L278.69 171.242H264.038L262.585 169.789L264.038 168.336H278.69ZM278.69 150.051L280.144 151.504L278.69 152.957H264.038L262.585 151.504L264.038 150.051H278.69ZM263.675 165.43V168.094L262.282 169.486L260.89 168.094V165.43L262.282 164.037L263.675 165.43Z" fill="#274868"/>
    <rect x="210" y="130" :class="[$style.answer, !$attrs.isPaused && $style.active]" @click="successAnswer" width="133" height="43" fill="#D9D9D9" fill-opacity="0.01"/>
    <defs>
    <linearGradient id="paint0_linear_1_214" x1="246.159" y1="1875.2" x2="246.159" y2="142.454" gradientUnits="userSpaceOnUse">
    <stop stop-color="white"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    
</template>

<style scoped lang="scss"  module>
.answer {
  transition-box: fill-box;
  transition: .2s;
  &.active {
    stroke: red;
  }
  &:hover {
    cursor: pointer;
  }
}
</style>

<script>
import { ref, onMounted } from 'vue';
export default {
  name: 'mill',
  setup(props, ctx) {
    const { emit } = ctx
    const isShow = ref(false)
    const tryClicked = ref(false)
    const tryClickedFirst = ref(false)
    onMounted(() => {
      isShow.value = true
    })
    const emitClick = () => emit('emitClick')
    const successAnswer = () => {
      emit('successAnswer', 'veter')
    }
    const tryClick = () => {
      // tryClicked.value = true
      if (tryClicked.value) return
      if (!tryClickedFirst.value) {
        emit('addMessage', 'Посмотри внимательнее, показания снимаются со счётчика.')
        tryClickedFirst.value = true
      }
      else {
        tryClicked.value = true
        emit('addMessage', 'Нажми сюда, чтобы снять показания с анемометра.')
      }
    }
    return {
      isShow,
      emitClick,
      successAnswer,
      tryClicked,
      tryClick,
      tryClickedFirst
    }
  }
}
</script>